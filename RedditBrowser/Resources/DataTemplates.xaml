<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:RedditBrowser.Resources"
																				xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
																				xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
																				xmlns:cmd="http://www.galasoft.ch/mvvmlight"
                    xmlns:r="clr-namespace:RedditSharp.Things;assembly=RedditSharp"
                    xmlns:vms="clr-namespace:RedditBrowser.ViewModel">
		<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="Converters.xaml"/>
				<ResourceDictionary Source="Styles.xaml"/>
		</ResourceDictionary.MergedDictionaries>

		<DataTemplate x:Key="Post" >
				<Grid>
						<Grid.ColumnDefinitions>
								<ColumnDefinition Width="auto"/>
								<ColumnDefinition Width="auto"/>
								<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>
						<Grid Grid.Column="0">
								<Grid.RowDefinitions>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="*"/>
										<RowDefinition Height="auto"/>
								</Grid.RowDefinitions>
								<Button Grid.Row="0" x:Name="buttonUpVote" FontFamily="Segoe UI Symbol" Content="&#xE110;"/>
								<TextBlock Grid.Row="1" x:Name="textblockVotes" Text="{Binding Score}" VerticalAlignment="Center"/>
								<Button Grid.Row="2" x:Name="buttonDownVote" FontFamily="Segoe UI Symbol" Content="&#xE1FD;"/>
						</Grid>
						<Image Grid.Column="1" x:Name="imagePost" Source="{Binding Thumbnail}" MaxHeight="80" MaxWidth="100"  Margin="5,1"/>
						<Grid Grid.Column="2">
								<Grid.RowDefinitions>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="*"/>
								</Grid.RowDefinitions>
								<Grid Grid.Row="0">
										<Grid.RowDefinitions>
												<RowDefinition Height="auto"/>
												<RowDefinition Height="auto"/>
										</Grid.RowDefinitions>
										<TextBlock Grid.Row="0" x:Name="textblockTitle" Text="{Binding Title}" TextWrapping="Wrap"/>
										<TextBlock Grid.Row="1" x:Name="textblockLink" Text="{Binding Url}" TextWrapping="Wrap" TextBlock.FontSize="12"/>
								</Grid>
								<Grid Grid.Row="1">
										<Grid.ColumnDefinitions>
												<ColumnDefinition Width="auto"/>
												<ColumnDefinition Width="auto"/>
										</Grid.ColumnDefinitions>
										<TextBlock Grid.Column="0" Text="Posted by "/>
										<TextBlock Grid.Column="1" x:Name="textblockPosterUsername" Text="{Binding Author.Name}"/>
								</Grid>
								<Grid Grid.Row="2">
										<Button x:Name="buttonPostDetails" />
								</Grid>
						</Grid>
				</Grid>
		</DataTemplate>

		<HierarchicalDataTemplate x:Key="Comment" DataType="{x:Type r:Comment}" ItemsSource="{Binding Comments}">
				<Grid>
						<Grid.ColumnDefinitions>
								<ColumnDefinition Width="auto"/>
								<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>
						<Grid Grid.Column="0">
								<Grid.RowDefinitions>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="*"/>
								</Grid.RowDefinitions>
								<Button Grid.Row="0" x:Name="buttonUpVote" FontFamily="Segoe UI Symbol" Content="&#xE110;"/>
								<!--<TextBlock Grid.Row="1" x:Name="textblockVotes" Text="{Binding Score}" VerticalAlignment="Center"/>-->
								<Button Grid.Row="2" x:Name="buttonDownVote" FontFamily="Segoe UI Symbol" Content="&#xE1FD;"/>
						</Grid>

						<Grid Grid.Column="1">
								<Grid.RowDefinitions>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="*"/>
										<RowDefinition Height="auto"/>
								</Grid.RowDefinitions>
								<WrapPanel  Grid.Row="0" Orientation="Horizontal">
										<TextBlock x:Name="textblockAuthorName" Text="{Binding AuthorName}" />
										<TextBlock x:Name="textblockAuthorFlairText" Text="{Binding AuthorFlairText}" />
										<TextBlock x:Name="textblockScore" Text="{Binding Score}" />
										<TextBlock x:Name="textblockDate" Text="{Binding Created}" />
								</WrapPanel>
								<TextBlock Grid.Row="1" Text="{Binding Body}"/>
								<Grid Grid.Row="2">
										<Button x:Name="buttonReply" Content="Reply"/>
								</Grid>
						</Grid>
				</Grid>
		</HierarchicalDataTemplate>

		<DataTemplate DataType="{x:Type vms:ListVM}">
				<Grid x:Name="gridPosts">
						<Grid.RowDefinitions>
								<RowDefinition Height="*" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>
						<ListBox Grid.Row="0" Grid.Column="0" x:Name="listboxPosts" ItemsSource="{Binding Posts}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" >
								<ListBox.ItemTemplate>
										<DataTemplate>
												<Grid >
														<i:Interaction.Triggers>
																<i:EventTrigger EventName="MouseEnter">
																		<cmd:EventToCommand Command="{Binding ElementName=gridPosts, Path=DataContext.ItemHover}"
               CommandParameter="{Binding}" />
																</i:EventTrigger>
														</i:Interaction.Triggers>

														<Grid.ColumnDefinitions>
																<ColumnDefinition Width="auto"/>
																<ColumnDefinition Width="auto"/>
																<ColumnDefinition Width="*"/>
														</Grid.ColumnDefinitions>
														<Grid Grid.Column="0">
																<Grid.RowDefinitions>
																		<RowDefinition Height="auto"/>
																		<RowDefinition Height="*"/>
																		<RowDefinition Height="auto"/>
																</Grid.RowDefinitions>
																<Button Grid.Row="0" x:Name="buttonUpVote" FontFamily="Segoe UI Symbol" Content="&#xE110;"/>
																<TextBlock Grid.Row="1" x:Name="textblockVotes" Text="{Binding Score}" VerticalAlignment="Center"/>
																<Button Grid.Row="2" x:Name="buttonDownVote" FontFamily="Segoe UI Symbol" Content="&#xE1FD;"/>
														</Grid>
														<Image Grid.Column="1" x:Name="imagePost" Source="{Binding Thumbnail}" MaxHeight="80" MaxWidth="100"  Margin="5,1"/>
														<Grid Grid.Column="2">
																<Grid.RowDefinitions>
																		<RowDefinition Height="auto"/>
																		<RowDefinition Height="auto"/>
																		<RowDefinition Height="*"/>
																</Grid.RowDefinitions>
																<Grid Grid.Row="0">
																		<Grid.RowDefinitions>
																				<RowDefinition Height="auto"/>
																				<RowDefinition Height="auto"/>
																		</Grid.RowDefinitions>
																		<TextBlock Grid.Row="0" x:Name="textblockTitle" Text="{Binding Title}" TextWrapping="Wrap"/>
																		<TextBlock Grid.Row="1" x:Name="textblockLink" Text="{Binding Url}" TextWrapping="Wrap" TextBlock.FontSize="12"/>
																</Grid>
																<Grid Grid.Row="1">
																		<Grid.ColumnDefinitions>
																				<ColumnDefinition Width="auto"/>
																				<ColumnDefinition Width="auto"/>
																		</Grid.ColumnDefinitions>
																		<TextBlock Grid.Column="0" Text="Posted by "/>
																		<TextBlock Grid.Column="1" x:Name="textblockPosterUsername" Text="{Binding Author.Name}"/>
																</Grid>
																<Grid Grid.Row="2">
																		<Button x:Name="buttonPostDetails" Command="{Binding  ElementName=gridPosts, Path=DataContext.ItemClicked}" CommandParameter="{Binding}"/>
																</Grid>
														</Grid>
												</Grid>
										</DataTemplate>
								</ListBox.ItemTemplate>
						</ListBox>
				</Grid>
		</DataTemplate>

		<DataTemplate DataType="{x:Type vms:TopPanelVM}">
				<Grid x:Name="gridTopPanel">
						<Grid.RowDefinitions>
								<RowDefinition Height="*" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
								<ColumnDefinition Width="auto"/>
								<ColumnDefinition Width="*"/>
								<ColumnDefinition Width="auto"/>
								<ColumnDefinition Width="auto"/>
						</Grid.ColumnDefinitions>
						<Image Grid.Column="0" x:Name="imageHeader" Source="{Binding Header}"/>
						<TextBlock Grid.Column="0" x:Name="textblockSubredditName" Text="{Binding SubredditName}"/>
						<xctk:WatermarkTextBox Grid.Column="1" x:Name="texboxSearch" Text="{Binding Search}" Watermark="Search"/>
						<Button Grid.Column="2" x:Name="buttonSearch" >
								<TextBlock FontFamily="Segoe UI Symbol" Text="&#xE11A;"/>
						</Button>
						<Button Grid.Column="3" x:Name="buttonLogin" Content="Login"/>
				</Grid>
		</DataTemplate>

		<DataTemplate DataType="{x:Type vms:PostVM}">
				<Grid>
						<Grid.RowDefinitions>
								<RowDefinition Height="auto"/>
								<RowDefinition Height="auto"/>
								<RowDefinition Height="*"/>
						</Grid.RowDefinitions>

						<Grid>
								<Grid.RowDefinitions>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="auto"/>
										<RowDefinition Height="*"/>
								</Grid.RowDefinitions>

								<Grid Grid.Column="1">
										<Grid.RowDefinitions>
												<RowDefinition Height="auto"/>
												<RowDefinition Height="auto"/>
												<RowDefinition Height="*"/>
												<RowDefinition Height="auto"/>
										</Grid.RowDefinitions>
										<Grid.ColumnDefinitions>
												<ColumnDefinition Width="auto"/>
												<ColumnDefinition Width="*"/>
										</Grid.ColumnDefinitions>
										<Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
												<Grid.RowDefinitions>
														<RowDefinition Height="auto"/>
														<RowDefinition Height="*"/>
														<RowDefinition Height="auto"/>
												</Grid.RowDefinitions>
												<Button Grid.Row="0" x:Name="buttonUpVote" FontFamily="Segoe UI Symbol" Content="&#xE110;"/>
												<TextBlock Grid.Row="1" x:Name="textblockVotes" Text="{Binding Post.Score}" VerticalAlignment="Center"/>
												<Button Grid.Row="2" x:Name="buttonDownVote" FontFamily="Segoe UI Symbol" Content="&#xE1FD;"/>
										</Grid>
										<WrapPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
												<TextBlock x:Name="textblockSubredditName" Text="{Binding Post.Subreddit.Name}"/>
												<TextBlock Text=" • Posted by "/>
												<TextBlock x:Name="textblockPosterName" Text="{Binding Post.Author.Name}"/>
												<TextBlock Text=" Date "/>
												<TextBlock x:Name="textblockCreatedDate" Text="{Binding Post.Created}"/>
												<!--TODO dodac date converted z DateTime.Now - Post.Created do np 4h ago-->
										</WrapPanel>
										<TextBlock Grid.Row="1" Grid.Column="1" x:Name="textblockTitle" Text="{Binding Post.Title}"/>
										<Image Grid.Row="2" Grid.Column="1" x:Name="image" Source="{Binding Post.Url}"/>
								</Grid>
								<Grid Grid.Row="1" x:Name="gridComment">
										<Grid.RowDefinitions>
												<RowDefinition Height="*"/>
												<RowDefinition Height="auto"/>
										</Grid.RowDefinitions>
										<xctk:WatermarkTextBox Grid.Row="0" x:Name="textBoxComment" Watermark="What are your thoughts?" Text="{Binding Comment}" AcceptsReturn="True"/>
										<Button Grid.Row="1" x:Name="buttonAddComment" Content="Comment"/>
								</Grid>
								<Grid Grid.Row="2" x:Name="gridComments">
										<Grid.RowDefinitions>
												<RowDefinition Height="auto"/>
												<!--sorting-->
												<RowDefinition Height="*"/>
										</Grid.RowDefinitions>
										<TreeView Grid.Row="1" x:Name="listboxComments" ItemsSource="{Binding Post.Comments}" ItemTemplate="{StaticResource Comment}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
								</Grid>

						</Grid>
				</Grid>
		</DataTemplate>

</ResourceDictionary>